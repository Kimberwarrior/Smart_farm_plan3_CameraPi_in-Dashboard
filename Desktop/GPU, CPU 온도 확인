1. 개요
라즈베리파이가 데스크탑, 노트북에 비해 저전력을 사용하지만 보통의 컴퓨터와 마찬가지로 무거운 작업을 하게될 경우 발열이 발생합니다. 모든 전자기기가 그렇듯 발열이 과도하게 발생하면 성능저하 현상이 발생하며 더 나아가 프로세스가 멈출 수도 있습니다. 그렇기에 무거운 작업을 하게 될 때 라즈베리파이의 온도를 모니터링하여 적절한 쿨링을 해주는 것을 추천합니다.

이 글에서는 명령어만을 설명하며 이 명령어를 사용하여 스크립트를 작성, 사용하여 온도를 쉽게 모니터링하고 온도에 따라 쿨링팬 속도 조절 등의 응용 작업을 할 수 있습니다.

2. 라즈베리파이 온도 확인
이 글에서 vcgencmd 패키지를 사용하여 GPU 온도를 읽어오는 방법과 라즈베리파이 커널 thermal node 에서 CPU 온도를 읽어오는 방법 두가지가 있습니다. 라즈베리파이는 CPU, GPU 단일칩으로 둘 중 어느 것을 읽어와도 1 도 이내의 차이를 보이기에 편한 방법으로 사용하면 됩니다.

2.1 vcgencmd 사용
vcgencmd 는 Video Core Generate Command 의 줄임말이며 vcgencmd 툴에 measure_temp 명령어를 전달하여 GPU 온도를 확인할 수 있다.

pi@raspberrypi:~ $ vcgencmd measure_temp 
temp=41.9'C

2.2 thermal node 읽어오기
라즈베리파이 커널 thermal node 에 자동적으로 CPU 온도가 기록되는데 이 값을 cat 명령어로 읽어오는 방법입니다.

pi@raspberrypi:~ $ cat /sys/class/thermal/thermal_zone0/temp
42932
결과 값은 42932 로 나오는데 1000 자리로 나누면 우리가 사용하는 썹시 온도로 환산할 수 있습니다.